


@{
	ViewBag.Title = "test";
	Layout = null;
}


<head>
	<meta charset="utf-8">
	<link href="@Url.Content("~/Content/styles.css")" rel="stylesheet" type="text/css" />
	<link href="@Url.Content("~/Content/main.css")" rel="stylesheet" type="text/css" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="~/Scripts/Chart.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
	<script src="~/Scripts/Chart.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" type="text/javascript"></script>
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>  
	<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	<script>
(document).ready(function() {


	var readURL = function(input) {
		if (input.files && input.files[0]) {
			var reader = new FileReader();

			reader.onload = function (e) {
				$('.avatar').attr('src', e.target.result);
			}

			reader.readAsDataURL(input.files[0]);
		}
	}


	$(".file-upload").on('change', function(){
		readURL(this);
	});
});
	

	

	</script>

	<style>
		.slide-center-out {
			text-decoration: none;
			display: inline-block;
			color: white;
		}
			/* add a empty string after the elment with class .slide-center-out  */
			.slide-center-out:after {
				content: '';
				display: block;
				height: 3px;
				width: 0;
				background: transparent;
				transition: width 1s ease, background-color 1s ease;
				-webkit-transition: width 1s ease, background-color 1s ease;
				-moz-transition: width 1s ease, background-color 1s ease;
				margin: auto; /* center the cotent so it will sliding from the midddle to the left and right */
			}

			/* Change the width and background on hover, aka sliding from the middle to the left and right */
			.slide-center-out:hover:after {
				width: 100%;
				background: white;
			}
			/* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
  padding-left:10px;
}

/* Hide default HTML checkbox */
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}
	  
	</style>

	<script>
window.onload = function () {
 
	var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	theme: "light2",
	zoomEnabled: true,
		
	title: {
		text: "Audiometry Test",
		fontSize: 20
	},
	axisX: {
		title: "Frequency in Hz",
		titleFontSize: 15,
		gridThickness: 2,
		maximum: 180,
		minimum: 0,
		interval:20
	},
	axisY: {
		title: "Hearing Level in dB",
		titleFontSize: 15,
		gridThickness: 2,
		maximum: 100,
		minimum: -20,
		reversed: true,
		interval:10
		
	},
	data: [{
		type: "line",
		showInLegend: true,
		legendText: "Selected value",
		markerType: "cross",
		toolTipContent: "<b>Frequency: </b>{x} Hz<br/><b>Hearing level: </b> {y} dB",
		dataPoints: @Html.Raw(ViewBag.DataPoints)}]
});
chart.render();
 
}
</script>

</head>

<body>
	


		<div class="blended_grid">
			<div class="pageHeader">

				<h2 class="slide-center-out">Audiometry Test &nbsp;</h2><i class="fas fa-headphones" style="font-size:38px;color:white;"></i>
			</div>
			<div class="pageLeftMenu">
				<h4 class="slide-center-out">Switch ear</h4>
				<center>
					<label class="switch" style="float:left; margin-left:10px;">
						<input type="checkbox">
						
						<span class="slider round"></span>
					   
					</label>
					<label class="switch" style="float:right; margin-right:10px;">
						<input type="checkbox">
						
						<span class="slider round" style="float:right; margin-right:10px;"></span>

					</label>
				</center>
				<br />
				<br />
				<h4 class="slide-center-out">Frequency</h4> 
				<br />
				<div class="center">
					<p>
					<center>
					</p><div class="input-group" style="width:80%;">
						<span class="input-group-btn">
							<button type="button" class="btn btn-default btn-number" disabled="disabled" data-type="minus" data-field="quant[1]">
								<span class="glyphicon glyphicon-minus"></span>
							</button>
						</span>
						<input type="text" name="quant[1]" class="form-control input-number" value="1" min="1" max="10000">
						<span class="input-group-btn">
							<button type="button" class="btn btn-default btn-number" data-type="plus" data-field="quant[1]">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
						</span>
					</div>
					</center>
					<p></p>

				</div>
				<h4 class="slide-center-out">Stimulus</h4>
				<br />
				<div class="center">
					<p>
					<center>
					</p><div class="input-group" style="width:80%; ">
						<span class="input-group-btn">
							<button type="button" class="btn btn-default btn-number" disabled="disabled" data-type="minus" data-field="quant[2]">
								<span class="glyphicon glyphicon-minus"></span>
							</button>
						</span>
						<input type="text" name="quant[2]" class="form-control input-number" value="1" min="1" max="10000">
						<span class="input-group-btn">
							<button type="button" class="btn btn-default btn-number" data-type="plus" data-field="quant[2]">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
						</span>
					</div>
					</center>
					<p></p>

				</div>
				<h4 class="slide-center-out">Masking Level</h4>
				<div class="center">
					<p>
					<center>
					</p><div class="input-group" style="width:80%; ">
						<span class="input-group-btn">
							<button type="button" class="btn btn-default btn-number" disabled="disabled" data-type="minus" data-field="quant[3]">
								<span class="glyphicon glyphicon-minus"></span>
							</button>
						</span>
						<input type="text" name="quant[3]" class="form-control input-number" value="1" min="1" max="10000">
						<span class="input-group-btn">
							<button type="button" class="btn btn-default btn-number" data-type="plus" data-field="quant[3]">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
						</span>
					</div>
					</center>
					<p></p>
					
				</div>
				<h4 class="slide-center-out">Answer</h4>
				<br />
				<input type="submit" name="saveR" value="Accept" onclick="window.location.href='@Url.Action("test")" style="float:left; width:130px; margin-left:10px;" />
				<input type="submit" name="saveR" value="No response" onclick="window.location.href='@Url.Action("test")" style="float:right; width:130px; margin-right:10px;" />

				<h4 class="slide-center-out">Check answer</h4>
			  
				<input type="submit" name="saveR" value="Check" onclick="window.location.href='@Url.Action("test")" style="width:130px" />

			</div>
			<div class="pageContent">
				<
				<div id="chartContainer" style="height: 500px; width: 80%; text-align:center; display:inline-block; padding-top:50px; padding-bottom:50px;"></div>

				
			</div>
			<div class="pageFooter">
			   
				<input type="submit" name="saveR" value="Exit" onclick="window.location.href='@Url.Action("Main")'" style="float:right; width:130px; margin-right:10px;" />
				<input type="submit" name="saveR" value="Save" onclick="window.location.href='@Url.Action("Whisper")'" style="float:right; width:130px; margin-right:10px;" />
			   


			</div>
		</div>
	</body>

   <style>
	.blended_grid{
	display : block;
	width : 900px;
	overflow : auto;
	margin : 30px auto 0 auto;
	}
	.pageHeader{
	
	float : left;
	clear : none;
	height : 100px;
	width : 900px;
	
	}
	
	.pageLeftMenu{
   
	float : left;
	clear : none;
	height : 650px;
	width : 300px;
	 border:solid;
	 border-radius: 25px;
	border-color:white;
	}
	.pageContent{
 
	float : left;
	clear : none;
	height : 650px;
	width : 600px;
	 border:solid;
	 border-radius: 25px;
	border-color:white;
	}
	.pageFooter{
   
	float : left;
	clear : none;
	height : 100px;
	width : 900px;
	 
	}

	input[type="submit"] {
	color: #fff;
	background: #ce224d;
	padding: 12px 20px;
	font-size: 16px;
	border: hidden;
   border-radius: 18px;
	-moz-border-radius: 5px;
-webkit-border-radius: 5px;
	display:inline-block;
	position:relative;
	outline: none;
	margin: 30px auto 0 auto;
	display:block;
	cursor:pointer;
	transition: 0.5s all;
	-webkit-transition: 0.5s all;
	-moz-transition: 0.5s all;
	-o-transition: 0.5s all;
	-ms-transition: 0.5s all;
}
input[type="submit"]:hover{
	background: #0068fe;
}
	</style>


<script>


	//plugin bootstrap minus and plus
	//http://jsfiddle.net/laelitenetwork/puJ6G/
	$('.btn-number').click(function(e){
		e.preventDefault();
	
		fieldName = $(this).attr('data-field');
		type      = $(this).attr('data-type');
		var input = $("input[name='"+fieldName+"']");
		var currentVal = parseInt(input.val());
		if (!isNaN(currentVal)) {
			if(type == 'minus') {
			
				if(currentVal > input.attr('min')) {
					input.val(currentVal - 1).change();
				} 
				if(parseInt(input.val()) == input.attr('min')) {
					$(this).attr('disabled', true);
				}

			} else if(type == 'plus') {

				if(currentVal < input.attr('max')) {
					input.val(currentVal + 1).change();
				}
				if(parseInt(input.val()) == input.attr('max')) {
					$(this).attr('disabled', true);
				}

			}
		} else {
			input.val(0);
		}
	});
	$('.input-number').focusin(function(){
		$(this).data('oldValue', $(this).val());
	});
	$('.input-number').change(function() {
	
		minValue =  parseInt($(this).attr('min'));
		maxValue =  parseInt($(this).attr('max'));
		valueCurrent = parseInt($(this).val());
	
		name = $(this).attr('name');
		if(valueCurrent >= minValue) {
			$(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')
		} else {
			alert('Sorry, the minimum value was reached');
			$(this).val($(this).data('oldValue'));
		}
		if(valueCurrent <= maxValue) {
			$(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')
		} else {
			alert('Sorry, the maximum value was reached');
			$(this).val($(this).data('oldValue'));
		}
	
	
	});
	$(".input-number").keydown(function (e) {
		// Allow: backspace, delete, tab, escape, enter and .
		if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
			// Allow: Ctrl+A
			(e.keyCode == 65 && e.ctrlKey === true) || 
			// Allow: home, end, left, right
			(e.keyCode >= 35 && e.keyCode <= 39)) {
			// let it happen, don't do anything
			return;
		}
		// Ensure that it is a number and stop the keypress
		if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
			e.preventDefault();
		}
	});
</script>
